{"ast":null,"code":"import { ADD_STUDENT, EDIT_STUDENT, DEL_STUDENT } from './actions';\nconst initialState = {\n  /**\n   * Student datas [{Object}]\n   *\n   * @param      {String}  {name}\n   * @param      {Number}  {age}\n   * @param      {Number}  {group}\n   */\n  students: []\n};\n\nconst arrayHasIndex = (array, index) => Array.isArray(array) && array.hasOwnProperty(index);\n\nexport default function reducer(state = initialState, action) {\n  console.log('reducer', action.type);\n\n  switch (action.type) {\n    case ADD_STUDENT:\n      return { ...state,\n        students: [...state.students, action.student]\n      };\n\n    case EDIT_STUDENT:\n      if (arrayHasIndex(state.students, action.datas.index)) {\n        return { ...state,\n          students: state.students.map((student, index) => {\n            if (index === action.datas.index) {\n              return action.datas.student;\n            }\n\n            return student;\n          })\n        };\n      }\n\n      return state;\n\n    case DEL_STUDENT:\n      if (arrayHasIndex(state.students, action.index)) {\n        return { ...state,\n          students: [...state.students.filter((student, index) => index !== action.index)]\n        };\n      }\n\n      return state;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/florentdebuchy/Desktop/JS-avancé/JS-avanc-/Archive/src/redux/reducers.js"],"names":["ADD_STUDENT","EDIT_STUDENT","DEL_STUDENT","initialState","students","arrayHasIndex","array","index","Array","isArray","hasOwnProperty","reducer","state","action","console","log","type","student","datas","map","filter"],"mappings":"AAAA,SACEA,WADF,EAEEC,YAFF,EAGEC,WAHF,QAIO,WAJP;AAOA,MAAMC,YAAY,GAAG;AACrB;;;;;;;AAOCC,EAAAA,QAAQ,EAAE;AARU,CAArB;;AAWA,MAAMC,aAAa,GAAG,CAACC,KAAD,EAAQC,KAAR,KAAkBC,KAAK,CAACC,OAAN,CAAcH,KAAd,KAAwBA,KAAK,CAACI,cAAN,CAAqBH,KAArB,CAAhE;;AAEA,eAAe,SAASI,OAAT,CAAiBC,KAAK,GAAGT,YAAzB,EAAuCU,MAAvC,EAA+C;AAC7DC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,MAAM,CAACG,IAA9B;;AACA,UAAQH,MAAM,CAACG,IAAf;AAEC,SAAKhB,WAAL;AACC,aAAO,EAAE,GAAGY,KAAL;AAAYR,QAAAA,QAAQ,EAAE,CAAE,GAAGQ,KAAK,CAACR,QAAX,EAAqBS,MAAM,CAACI,OAA5B;AAAtB,OAAP;;AAED,SAAKhB,YAAL;AACC,UAAII,aAAa,CAACO,KAAK,CAACR,QAAP,EAAiBS,MAAM,CAACK,KAAP,CAAaX,KAA9B,CAAjB,EAAuD;AACtD,eAAO,EAAC,GAAGK,KAAJ;AAAWR,UAAAA,QAAQ,EAAEQ,KAAK,CAACR,QAAN,CAAee,GAAf,CAAmB,CAACF,OAAD,EAAUV,KAAV,KAAoB;AAClE,gBAAKA,KAAK,KAAKM,MAAM,CAACK,KAAP,CAAaX,KAA5B,EAAoC;AACnC,qBAAOM,MAAM,CAACK,KAAP,CAAaD,OAApB;AACA;;AACD,mBAAOA,OAAP;AACA,WAL2B;AAArB,SAAP;AAMA;;AACD,aAAOL,KAAP;;AAED,SAAKV,WAAL;AACC,UAAIG,aAAa,CAACO,KAAK,CAACR,QAAP,EAAiBS,MAAM,CAACN,KAAxB,CAAjB,EAAiD;AAChD,eAAO,EAAE,GAAGK,KAAL;AAAYR,UAAAA,QAAQ,EAAE,CAAE,GAAGQ,KAAK,CAACR,QAAN,CAAegB,MAAf,CAAsB,CAACH,OAAD,EAAUV,KAAV,KAAoBA,KAAK,KAAKM,MAAM,CAACN,KAA3D,CAAL;AAAtB,SAAP;AACA;;AACD,aAAOK,KAAP;;AAED;AACC,aAAOA,KAAP;AAvBF;AAyBA","sourcesContent":["import {\n  ADD_STUDENT,\n  EDIT_STUDENT,\n  DEL_STUDENT\n} from './actions'\n\n\nconst initialState = {\n/**\n * Student datas [{Object}]\n *\n * @param      {String}  {name}\n * @param      {Number}  {age}\n * @param      {Number}  {group}\n */\n\tstudents: []\n};\n\nconst arrayHasIndex = (array, index) => Array.isArray(array) && array.hasOwnProperty(index);\n\nexport default function reducer(state = initialState, action) {\n\tconsole.log('reducer', action.type);\n\tswitch (action.type) {\n\n\t\tcase ADD_STUDENT:\n\t\t\treturn { ...state, students: [ ...state.students, action.student ] };\n\n\t\tcase EDIT_STUDENT:\n\t\t\tif (arrayHasIndex(state.students, action.datas.index)) {\n\t\t\t\treturn {...state, students: state.students.map((student, index) => {\n\t\t\t\t\tif ( index === action.datas.index ) {\n\t\t\t\t\t\treturn action.datas.student;\n\t\t\t\t\t}\n\t\t\t\t\treturn student;\n\t\t\t\t})};\n\t\t\t}\n\t\t\treturn state;\n\n\t\tcase DEL_STUDENT:\n\t\t\tif (arrayHasIndex(state.students, action.index)) {\n\t\t\t\treturn { ...state, students: [ ...state.students.filter((student, index) => index !== action.index) ] };\n\t\t\t}\n\t\t\treturn state;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}"]},"metadata":{},"sourceType":"module"}