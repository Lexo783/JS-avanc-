{"ast":null,"code":"import { ADD_USER, DEL_USER, ADD_FAVORITE, DEL_FAVORITE } from './actions';\nconst initialState = {\n  /**\n   * Players scores [{Object}]\n   *\n   * @param      {String}  {firstName}\n   * @param      {String}  {lastName}\n   * @param      {String}  {birthDate}\n   * @param      {String}  {bio}\n   * @param      {String}  {city}\n   * @param       {Array}  {favoriteGamesName}\n   */\n  users: []\n};\n\nconst arrayHasIndex = (array, index) => Array.isArray(array) && array.hasOwnProperty(index);\n\nexport default function reducers(state = initialState, action) {\n  console.log('reducers', action.type);\n\n  switch (action.type) {\n    case ADD_USER:\n      let table = [...state.users, action.user];\n      return { ...state,\n        users: table\n      };\n\n    case DEL_USER:\n      if (arrayHasIndex(state.users, action.index)) {\n        return { ...state,\n          users: [...state.users.filter((user, index) => index !== action.index)]\n        };\n      }\n\n      return state;\n\n    case EDIT_STUDENT:\n      if (arrayHasIndex(state.students, action.datas.index)) {\n        return { ...state,\n          students: state.students.map((student, index) => {\n            if (index === action.datas.index) {\n              return action.datas.student;\n            }\n\n            return student;\n          })\n        };\n      }\n\n      return state;\n\n    case ADD_FAVORITE:\n      let tableGame = [...state.favoriteGamesName, action.gameName];\n      return { ...state,\n        favoriteGamesName: tableGame\n      };\n\n    case DEL_FAVORITE:\n      if (arrayHasIndex(state.users, action.index)) {\n        return { ...state,\n          users: [...state.users.filter((user, index) => index !== action.index)]\n        };\n      }\n\n      return state;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/Gwenael/Documents/cours/L1/fevrier_JavaPOO2_Js2/Js2/git/JS-avanc-/coding/src/redux/reducers.js"],"names":["ADD_USER","DEL_USER","ADD_FAVORITE","DEL_FAVORITE","initialState","users","arrayHasIndex","array","index","Array","isArray","hasOwnProperty","reducers","state","action","console","log","type","table","user","filter","EDIT_STUDENT","students","datas","map","student","tableGame","favoriteGamesName","gameName"],"mappings":"AAAA,SACIA,QADJ,EAEIC,QAFJ,EAGIC,YAHJ,EAIIC,YAJJ,QAKO,WALP;AAOA,MAAMC,YAAY,GAAG;AACjB;;;;;;;;;;AAUAC,EAAAA,KAAK,EAAE;AAXU,CAArB;;AAgBA,MAAMC,aAAa,GAAG,CAACC,KAAD,EAAQC,KAAR,KAAkBC,KAAK,CAACC,OAAN,CAAcH,KAAd,KAAwBA,KAAK,CAACI,cAAN,CAAqBH,KAArB,CAAhE;;AAEA,eAAe,SAASI,QAAT,CAAkBC,KAAK,GAAGT,YAA1B,EAAwCU,MAAxC,EAAgD;AAC3DC,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,MAAM,CAACG,IAA/B;;AACA,UAAQH,MAAM,CAACG,IAAf;AAEI,SAAKjB,QAAL;AACI,UAAIkB,KAAK,GAAG,CAAE,GAAGL,KAAK,CAACR,KAAX,EAAkBS,MAAM,CAACK,IAAzB,CAAZ;AACA,aAAO,EAAE,GAAGN,KAAL;AAAYR,QAAAA,KAAK,EAAEa;AAAnB,OAAP;;AAGJ,SAAKjB,QAAL;AACI,UAAIK,aAAa,CAACO,KAAK,CAACR,KAAP,EAAcS,MAAM,CAACN,KAArB,CAAjB,EAA8C;AAC1C,eAAO,EAAE,GAAGK,KAAL;AAAYR,UAAAA,KAAK,EAAE,CAAE,GAAGQ,KAAK,CAACR,KAAN,CAAYe,MAAZ,CAAmB,CAACD,IAAD,EAAOX,KAAP,KAAiBA,KAAK,KAAKM,MAAM,CAACN,KAArD,CAAL;AAAnB,SAAP;AACH;;AACD,aAAOK,KAAP;;AAGJ,SAAKQ,YAAL;AACI,UAAIf,aAAa,CAACO,KAAK,CAACS,QAAP,EAAiBR,MAAM,CAACS,KAAP,CAAaf,KAA9B,CAAjB,EAAuD;AACnD,eAAO,EAAC,GAAGK,KAAJ;AAAWS,UAAAA,QAAQ,EAAET,KAAK,CAACS,QAAN,CAAeE,GAAf,CAAmB,CAACC,OAAD,EAAUjB,KAAV,KAAoB;AAC3D,gBAAKA,KAAK,KAAKM,MAAM,CAACS,KAAP,CAAaf,KAA5B,EAAoC;AAChC,qBAAOM,MAAM,CAACS,KAAP,CAAaE,OAApB;AACH;;AACD,mBAAOA,OAAP;AACH,WALuB;AAArB,SAAP;AAMH;;AACD,aAAOZ,KAAP;;AAEJ,SAAKX,YAAL;AACI,UAAIwB,SAAS,GAAG,CAAE,GAAGb,KAAK,CAACc,iBAAX,EAA+Bb,MAAM,CAACc,QAAtC,CAAhB;AACA,aAAO,EAAE,GAAGf,KAAL;AAAYc,QAAAA,iBAAiB,EAAGD;AAAhC,OAAP;;AAEJ,SAAKvB,YAAL;AACI,UAAIG,aAAa,CAACO,KAAK,CAACR,KAAP,EAAcS,MAAM,CAACN,KAArB,CAAjB,EAA8C;AAC1C,eAAO,EAAE,GAAGK,KAAL;AAAYR,UAAAA,KAAK,EAAE,CAAE,GAAGQ,KAAK,CAACR,KAAN,CAAYe,MAAZ,CAAmB,CAACD,IAAD,EAAOX,KAAP,KAAiBA,KAAK,KAAKM,MAAM,CAACN,KAArD,CAAL;AAAnB,SAAP;AACH;;AACD,aAAOK,KAAP;;AAEJ;AACI,aAAOA,KAAP;AApCR;AAsCH","sourcesContent":["import {\n    ADD_USER,\n    DEL_USER,\n    ADD_FAVORITE,\n    DEL_FAVORITE\n} from './actions'\n\nconst initialState = {\n    /**\n     * Players scores [{Object}]\n     *\n     * @param      {String}  {firstName}\n     * @param      {String}  {lastName}\n     * @param      {String}  {birthDate}\n     * @param      {String}  {bio}\n     * @param      {String}  {city}\n     * @param       {Array}  {favoriteGamesName}\n     */\n    users: []\n};\n\n\n\nconst arrayHasIndex = (array, index) => Array.isArray(array) && array.hasOwnProperty(index);\n\nexport default function reducers(state = initialState, action) {\n    console.log('reducers', action.type);\n    switch (action.type) {\n\n        case ADD_USER:\n            let table = [ ...state.users, action.user ];\n            return { ...state, users: table};\n\n\n        case DEL_USER:\n            if (arrayHasIndex(state.users, action.index)) {\n                return { ...state, users: [ ...state.users.filter((user, index) => index !== action.index) ] };\n            }\n            return state;\n\n\n        case EDIT_STUDENT:\n            if (arrayHasIndex(state.students, action.datas.index)) {\n                return {...state, students: state.students.map((student, index) => {\n                        if ( index === action.datas.index ) {\n                            return action.datas.student;\n                        }\n                        return student;\n                    })};\n            }\n            return state;\n            \n        case ADD_FAVORITE:\n            let tableGame = [ ...state.favoriteGamesName,  action.gameName];\n            return { ...state, favoriteGamesName : tableGame};\n\n        case DEL_FAVORITE :\n            if (arrayHasIndex(state.users, action.index)) {\n                return { ...state, users: [ ...state.users.filter((user, index) => index !== action.index) ] };\n            }\n            return state;\n\n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}