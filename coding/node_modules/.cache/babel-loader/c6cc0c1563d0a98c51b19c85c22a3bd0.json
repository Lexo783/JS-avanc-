{"ast":null,"code":"var _jsxFileName = \"/Users/Gwenael/Documents/cours/L1/fevrier_JavaPOO2_Js2/Js2/git/JS-avanc-/coding/src/Component/List.js\";\nimport React from \"react\";\nimport Hearth from \"../pictures/hearth.png\";\nimport EmptyHearth from \"../pictures/hearth_empty.png\";\nimport { addFavorite, delFavorite } from \"../redux/actions\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nexport class List extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filtered: [],\n      favoritesGame: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      filtered: this.props.items\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      filtered: nextProps.items\n    });\n  }\n\n  handleChange(e) {\n    // Variable to hold the original version of the list\n    let currentList = []; // Variable to hold the filtered list before putting into state\n\n    let newList = []; // If the search bar isn't empty\n\n    if (e.target.value !== \"\") {\n      // Assign the original list to currentList\n      currentList = this.props.items; // Use .filter() to determine which items should be displayed\n      // based on the search terms\n\n      newList = currentList.filter(item => {\n        // change current item to lowercase\n        const lc = item.name.toLowerCase(); // change search term to lowercase\n\n        const filter = e.target.value.toLowerCase(); // check to see if the current list item includes the search term\n        // If it does, it will be added to newList. Using lowercase eliminates\n        // issues with capitalization in search terms and search content\n\n        return lc.includes(filter);\n      });\n    } else {\n      // If the search bar is empty, set newList to original task list\n      newList = this.props.items;\n    } // Set the filtered state based on what our rules added to newList\n\n\n    this.setState({\n      filtered: newList\n    });\n  }\n\n  test(gameName) {\n    const {\n      favoritesGame\n    } = this.props;\n\n    if (favoritesGame.includes(gameName)) {\n      return Hearth;\n    } else {\n      return EmptyHearth;\n    }\n  }\n\n  testFunc(gameName) {\n    const {\n      favoritesGame\n    } = this.props;\n\n    if (favoritesGame.includes(gameName)) {\n      return this.props.delFavorite(gameName);\n    } else {\n      return this.props.addFavorite(gameName);\n    }\n  }\n\n  render() {\n    const {\n      favoritesGame\n    } = this.props;\n    console.log(favoritesGame);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"listGameInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"input\",\n      onChange: this.handleChange,\n      placeholder: \"Search...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), this.state.filtered.map((game, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"gameDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: game.cover,\n        className: \"gameImg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gameTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, game.name), React.createElement(\"img\", {\n        src: this.test(game.name),\n        id: i,\n        className: \"pictureFavorite\",\n        onClick: () => this.testFunc(game.name),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, game.description), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"genre : \", game.genre), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"date de sortie : \", game.date)));\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    favoritesGame: state.favoritesGame\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addFavorite: gameName => {\n      dispatch(addFavorite(gameName));\n    },\n    delFavorite: gameName => {\n      dispatch(delFavorite(gameName));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(List));","map":{"version":3,"sources":["/Users/Gwenael/Documents/cours/L1/fevrier_JavaPOO2_Js2/Js2/git/JS-avanc-/coding/src/Component/List.js"],"names":["React","Hearth","EmptyHearth","addFavorite","delFavorite","withRouter","connect","List","Component","constructor","props","state","filtered","favoritesGame","handleChange","bind","componentDidMount","setState","items","componentWillReceiveProps","nextProps","e","currentList","newList","target","value","filter","item","lc","name","toLowerCase","includes","test","gameName","testFunc","render","console","log","map","game","i","cover","description","genre","date","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Hearth from \"../pictures/hearth.png\";\nimport EmptyHearth from \"../pictures/hearth_empty.png\";\nimport {addFavorite, delFavorite} from \"../redux/actions\";\nimport {withRouter} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\n\nexport class List extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filtered: [],\n            favoritesGame : []\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n\n    componentDidMount() {\n        this.setState({\n            filtered: this.props.items\n        });\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            filtered: nextProps.items\n        });\n    }\n\n\n    handleChange(e) {\n        // Variable to hold the original version of the list\n        let currentList = [];\n        // Variable to hold the filtered list before putting into state\n        let newList = [];\n\n        // If the search bar isn't empty\n        if (e.target.value !== \"\") {\n            // Assign the original list to currentList\n            currentList = this.props.items;\n\n            // Use .filter() to determine which items should be displayed\n            // based on the search terms\n            newList = currentList.filter(item => {\n                // change current item to lowercase\n                const lc = item.name.toLowerCase();\n                // change search term to lowercase\n                const filter = e.target.value.toLowerCase();\n                // check to see if the current list item includes the search term\n                // If it does, it will be added to newList. Using lowercase eliminates\n                // issues with capitalization in search terms and search content\n                return lc.includes(filter);\n            });\n        } else {\n            // If the search bar is empty, set newList to original task list\n            newList = this.props.items;\n        }\n        // Set the filtered state based on what our rules added to newList\n        this.setState({\n            filtered: newList\n        });\n    }\n\n\n    test(gameName){\n        const { favoritesGame } = this.props;\n        if (favoritesGame.includes(gameName)) {\n            return Hearth;\n        }\n        else {\n            return EmptyHearth;\n        }\n    }\n\n\n    testFunc(gameName){\n        const { favoritesGame } = this.props;\n        if (favoritesGame.includes(gameName)) {\n            return this.props.delFavorite(gameName);\n        }\n        else {\n            return this.props.addFavorite(gameName);\n        }\n    }\n\n\n    render() {\n        const { favoritesGame } = this.props;\n        console.log(favoritesGame)\n        return (\n            <div>\n                <div id=\"listGameInput\">\n                <input  type=\"text\" className=\"input\" onChange={this.handleChange} placeholder=\"Search...\" />\n                </div>\n                    {this.state.filtered.map((game, i) => {\n                        return (\n                            <div key={i} className=\"gameDiv\">\n                                <img src={game.cover} className=\"gameImg\"/>\n                                <div className=\"description\">\n                                    <div className=\"gameTitle\">\n                                        <p>\n                                            {game.name}\n                                        </p>\n                                        <img src={this.test(game.name)} id={i} className=\"pictureFavorite\"\n                                             onClick={() => this.testFunc(game.name)}/>\n                                    </div>\n                                    <p>{game.description}</p>\n                                    <p>\n                                        genre : {game.genre}\n                                    </p>\n                                    <p>\n                                        date de sortie : {game.date}\n                                    </p>\n                                </div>\n                            </div>\n                        )\n                    })\n                    }\n\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        favoritesGame : state.favoritesGame\n    };\n};\n\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        addFavorite: gameName => {\n            dispatch(addFavorite(gameName))\n        },\n        delFavorite : gameName=>{\n            dispatch(delFavorite(gameName))\n        }\n    };\n};\n\n\nexport default withRouter(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(List));\n"]},"metadata":{},"sourceType":"module"}